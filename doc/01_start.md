# NestJS å…¨æ ˆå­¦ä¹ æŒ‡å—

> é¢å‘å‰ç«¯å¼€å‘è€…çš„ NestJS å…¥é—¨å­¦ä¹ ç›®å½• + åŸºç¡€æ–‡æ¡£

## é¡¹ç›®èƒŒæ™¯

è¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®ï¼Œä¸»è¦ç”¨äºè‡ªå­¦ NestJS åŠç›¸å…³åç«¯æŠ€æœ¯ã€‚

**å­¦ä¹ è€…èƒŒæ™¯ï¼š**
- æœ‰å¤§é‡çš„çº¯å‰ç«¯å¼€å‘ç»éªŒï¼Œç›®å‰éœ€è¦å¾€å…¨æ ˆå¼€å‘å­¦ä¹ 
- TypeScript ç†Ÿæ‚‰ä½†ä½¿ç”¨ä¸ç®—å¾ˆå¤šï¼Œä¸»è¦æ˜¯åœ¨ Vue3 ä¸­ä½¿ç”¨
- 4å¹´å‰ç®€å•å­¦ä¹ ä½¿ç”¨è¿‡ Koa2 + MongoDB å¼€å‘è¿‡ç®€å•å°é¡¹ç›®

**å­¦ä¹ ç›®æ ‡ï¼š**
1. NestJS æ¡†æ¶
2. æœåŠ¡ç«¯éƒ¨ç½²
3. MySQL æ•°æ®åº“
4. Redis ç¼“å­˜
5. MongoDBï¼ˆåç»­å®‰æ’ï¼‰

---

## æŠ€æœ¯æ ˆæ€»ä½“æ¦‚è§ˆ

### 1. NestJS æ¡†æ¶
NestJS æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜æ•ˆã€å¯æ‰©å±•çš„ Node.js æœåŠ¡ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚

**æ ¸å¿ƒç‰¹ç‚¹ï¼š**
- å®Œå…¨æ”¯æŒ TypeScriptï¼ˆä¹Ÿæ”¯æŒçº¯ JavaScriptï¼‰
- ç»“åˆäº† OOPï¼ˆé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼‰ã€FPï¼ˆå‡½æ•°å¼ç¼–ç¨‹ï¼‰å’Œ FRPï¼ˆå‡½æ•°å“åº”å¼ç¼–ç¨‹ï¼‰
- åº•å±‚ä½¿ç”¨ Expressï¼ˆé»˜è®¤ï¼‰æˆ– Fastify
- å— Angular å¯å‘ï¼Œé‡‡ç”¨æ¨¡å—åŒ–æ¶æ„
- å†…ç½®ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ç³»ç»Ÿ

**ä¸ Koa2 çš„å¯¹æ¯”ï¼š**
| ç‰¹æ€§ | Koa2 | NestJS |
|------|------|--------|
| æ¶æ„é£æ ¼ | è½»é‡çº§ã€æ´‹è‘±æ¨¡å‹ | ä¼ä¸šçº§ã€æ¨¡å—åŒ– |
| TypeScript | éœ€æ‰‹åŠ¨é…ç½® | åŸç”Ÿæ”¯æŒ |
| ä¾èµ–æ³¨å…¥ | æ— å†…ç½® | å†…ç½®å®Œæ•´ DI |
| å­¦ä¹ æ›²çº¿ | è¾ƒä½ | ä¸­ç­‰ |
| é€‚ç”¨åœºæ™¯ | å°å‹é¡¹ç›®ã€API | ä¸­å¤§å‹é¡¹ç›®ã€å¾®æœåŠ¡ |

### 2. MySQL æ•°æ®åº“
MySQL æ˜¯æœ€æµè¡Œçš„å…³ç³»å‹æ•°æ®åº“ä¹‹ä¸€ï¼Œé€‚ç”¨äºç»“æ„åŒ–æ•°æ®å­˜å‚¨ã€‚

**æ ¸å¿ƒæ¦‚å¿µï¼š**
- è¡¨ï¼ˆTableï¼‰ï¼šæ•°æ®çš„ç»“æ„åŒ–å­˜å‚¨
- ç´¢å¼•ï¼ˆIndexï¼‰ï¼šåŠ é€ŸæŸ¥è¯¢
- äº‹åŠ¡ï¼ˆTransactionï¼‰ï¼šä¿è¯æ•°æ®ä¸€è‡´æ€§
- å¤–é”®ï¼ˆForeign Keyï¼‰ï¼šè¡¨ä¹‹é—´çš„å…³è”

**åœ¨ NestJS ä¸­çš„ä½¿ç”¨ï¼š**
- TypeORMï¼šæœ€å¸¸ç”¨çš„ ORMï¼Œä¸ NestJS æ·±åº¦é›†æˆ
- Prismaï¼šæ–°ä¸€ä»£ ORMï¼Œç±»å‹å®‰å…¨æ›´å¥½
- Sequelizeï¼šè€ç‰Œ ORMï¼Œä¹Ÿæœ‰æ”¯æŒ

### 3. Redis ç¼“å­˜
Redis æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„é”®å€¼å­˜å‚¨æ•°æ®åº“ï¼Œå¸¸ç”¨äºç¼“å­˜å’Œä¼šè¯ç®¡ç†ã€‚

**æ ¸å¿ƒç”¨é€”ï¼š**
- ç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼ˆå‡å°‘æ•°æ®åº“å‹åŠ›ï¼‰
- ä¼šè¯å­˜å‚¨ï¼ˆSessionï¼‰
- æ¶ˆæ¯é˜Ÿåˆ—
- åˆ†å¸ƒå¼é”
- æ’è¡Œæ¦œ/è®¡æ•°å™¨

**æ•°æ®ç±»å‹ï¼š**
- Stringï¼šå­—ç¬¦ä¸²
- Hashï¼šå“ˆå¸Œè¡¨
- Listï¼šåˆ—è¡¨
- Setï¼šé›†åˆ
- Sorted Setï¼šæœ‰åºé›†åˆ

### 4. æœåŠ¡ç«¯éƒ¨ç½²
å°†åº”ç”¨ä»å¼€å‘ç¯å¢ƒéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„è¿‡ç¨‹ã€‚

**å¸¸è§éƒ¨ç½²æ–¹å¼ï¼š**
- PM2ï¼šNode.js è¿›ç¨‹ç®¡ç†å™¨
- Dockerï¼šå®¹å™¨åŒ–éƒ¨ç½²
- Nginxï¼šåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡
- äº‘æœåŠ¡ï¼šé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€AWS ç­‰

---

## å­¦ä¹ è·¯å¾„å¤§çº²

### ç¬¬ä¸€é˜¶æ®µï¼šNestJS åŸºç¡€ï¼ˆ1-2å‘¨ï¼‰
```
02_nestjs_overview.md      - NestJS æ¡†æ¶æ¦‚è§ˆä¸ç¯å¢ƒæ­å»º
03_nestjs_core.md          - æ ¸å¿ƒæ¦‚å¿µï¼šControllerã€Serviceã€Module
04_nestjs_di.md            - ä¾èµ–æ³¨å…¥ä¸ Provider
05_nestjs_middleware.md    - ä¸­é—´ä»¶ã€æ‹¦æˆªå™¨ã€ç®¡é“ã€å®ˆå«
06_nestjs_exception.md     - å¼‚å¸¸å¤„ç†ä¸è¿‡æ»¤å™¨
```

### ç¬¬äºŒé˜¶æ®µï¼šæ•°æ®åº“æ“ä½œï¼ˆ1-2å‘¨ï¼‰
```
10_mysql_basics.md         - MySQL åŸºç¡€ä¸ SQL è¯­æ³•
11_typeorm_intro.md        - TypeORM å…¥é—¨ä¸é…ç½®
12_typeorm_entity.md       - å®ä½“å®šä¹‰ä¸å…³ç³»æ˜ å°„
13_typeorm_crud.md         - CRUD æ“ä½œä¸æŸ¥è¯¢æ„å»º
14_typeorm_advanced.md     - äº‹åŠ¡ã€è¿ç§»ä¸é«˜çº§æŸ¥è¯¢
```

### ç¬¬ä¸‰é˜¶æ®µï¼šRedis ç¼“å­˜ï¼ˆ0.5-1å‘¨ï¼‰
```
20_redis_basics.md         - Redis åŸºç¡€ä¸æ•°æ®ç±»å‹
21_redis_nestjs.md         - NestJS ä¸­ä½¿ç”¨ Redis
22_redis_cache.md          - ç¼“å­˜ç­–ç•¥ä¸å®è·µ
```

### ç¬¬å››é˜¶æ®µï¼šè®¤è¯ä¸å®‰å…¨ï¼ˆ1å‘¨ï¼‰
```
30_auth_jwt.md             - JWT è®¤è¯å®ç°
31_auth_passport.md        - Passport ç­–ç•¥
32_auth_rbac.md            - åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶
```

### ç¬¬äº”é˜¶æ®µï¼šéƒ¨ç½²ä¸è¿ç»´ï¼ˆ1å‘¨ï¼‰
```
40_deployment_basics.md    - æœåŠ¡ç«¯éƒ¨ç½²åŸºç¡€
41_pm2_deploy.md           - PM2 è¿›ç¨‹ç®¡ç†
42_docker_basics.md        - Docker å®¹å™¨åŒ–
43_nginx_config.md         - Nginx é…ç½®ä¸åå‘ä»£ç†
```

### ç¬¬å…­é˜¶æ®µï¼šå®æˆ˜é¡¹ç›®
```
50_project_setup.md        - é¡¹ç›®æ¶æ„è®¾è®¡
51_project_api.md          - RESTful API å¼€å‘
52_project_deploy.md       - é¡¹ç›®éƒ¨ç½²ä¸Šçº¿
```

---

## æ–‡æ¡£ç›®å½•

### ç¬¬ä¸€é˜¶æ®µï¼šNestJS åŸºç¡€
| åºå· | æ–‡ä»¶å | è¯´æ˜ | çŠ¶æ€ |
|------|--------|------|------|
| 01 | 01_start.md | å­¦ä¹ æŒ‡å—ä¸æ€»è§ˆï¼ˆæœ¬æ–‡æ¡£ï¼‰ | âœ… |
| 02 | 02_nestjs_overview.md | NestJS æ¦‚è§ˆä¸å¿«é€Ÿå¼€å§‹ | âœ… |
| 03 | 03_nestjs_core.md | Controllerã€Serviceã€Module | âœ… |
| 04 | 04_nestjs_di.md | ä¾èµ–æ³¨å…¥ä¸ Provider | âœ… |
| 05 | 05_nestjs_middleware.md | ä¸­é—´ä»¶ã€æ‹¦æˆªå™¨ã€ç®¡é“ã€å®ˆå« | âœ… |

### ç¬¬äºŒé˜¶æ®µï¼šæ•°æ®åº“æ“ä½œ
| åºå· | æ–‡ä»¶å | è¯´æ˜ | çŠ¶æ€ |
|------|--------|------|------|
| 10 | 10_mysql_basics.md | MySQL åŸºç¡€ä¸ SQL è¯­æ³• | âœ… |

### ç¬¬ä¸‰é˜¶æ®µï¼šRedis ç¼“å­˜
| åºå· | æ–‡ä»¶å | è¯´æ˜ | çŠ¶æ€ |
|------|--------|------|------|
| 20 | 20_redis_basics.md | Redis åŸºç¡€ä¸æ•°æ®ç±»å‹ | âœ… |

### ç¬¬äº”é˜¶æ®µï¼šéƒ¨ç½²ä¸è¿ç»´
| åºå· | æ–‡ä»¶å | è¯´æ˜ | çŠ¶æ€ |
|------|--------|------|------|
| 40 | 40_deployment_basics.md | æœåŠ¡ç«¯éƒ¨ç½²åŸºç¡€ | âœ… |

> âœ… å·²å®Œæˆ | ğŸ“ å¾…ç¼–å†™ | ğŸš§ è¿›è¡Œä¸­

---

## å¼€å‘ç¯å¢ƒå‡†å¤‡

### å¿…éœ€è½¯ä»¶
```bash
# Node.js (æ¨è v18+)
node -v

# npm æˆ– pnpm
npm -v

# NestJS CLI
npm install -g @nestjs/cli

# éªŒè¯å®‰è£…
nest --version
```

### æ•°æ®åº“ç¯å¢ƒ
```bash
# MySQL 8.0+ (æœ¬åœ°å®‰è£…æˆ– Docker)
# Redis 6.0+ (æœ¬åœ°å®‰è£…æˆ– Docker)

# æ¨èä½¿ç”¨ Docker Compose ä¸€é”®å¯åŠ¨
docker-compose up -d
```

### æ¨è VSCode æ’ä»¶
- Prisma / TypeORM
- ESLint
- Prettier
- Thunder Clientï¼ˆAPI æµ‹è¯•ï¼‰
- Database Clientï¼ˆæ•°æ®åº“ç®¡ç†ï¼‰

---

## å¿«é€Ÿå¼€å§‹

```bash
# åˆ›å»ºæ–°é¡¹ç›®
nest new project_demo

# è¿›å…¥é¡¹ç›®ç›®å½•
cd project_demo

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run start:dev

# è®¿é—® http://localhost:3000
```

---

## å‚è€ƒèµ„æº

- [NestJS å®˜æ–¹æ–‡æ¡£](https://docs.nestjs.com/)
- [TypeORM å®˜æ–¹æ–‡æ¡£](https://typeorm.io/)
- [Redis å®˜æ–¹æ–‡æ¡£](https://redis.io/docs/)
- [MySQL å®˜æ–¹æ–‡æ¡£](https://dev.mysql.com/doc/)
